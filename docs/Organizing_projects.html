<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Carter Lab" />

<meta name="date" content="2021-03-07" />

<title>Organizing Projects</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-sm-12 col-md-4 col-lg-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-sm-12 col-md-8 col-lg-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Computational Resources - Carter Lab</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Overview.html">Overview</a>
</li>
<li>
  <a href="Organizing_projects.html">Organizing Projects</a>
</li>
<li>
  <a href="Acquiring_and_sharing_data.html">Acquiring Data</a>
</li>
<li>
  <a href="Working_with_hpc.html">Working with HPC</a>
</li>
<li>
  <a href="Containerizing.html">Containerizing</a>
</li>
<li>
  <a href="Publishing.html">Publishing</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/TheJacksonLaboratory/ResourcesGuide.git">
    <span class="fab fa-github"></span>
     
  </a>
</li>
<li>
  <a href="mailto:&lt;annat.haber@jax.org&gt;">
    <span class="fas fa-paper-plane"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Organizing Projects</h1>
<h4 class="author">Carter Lab</h4>
<h4 class="date">2021-03-07</h4>

</div>


<div id="fair-principles" class="section level2">
<h2>FAIR Principles</h2>
<p>In 2016 a consortium of scientists and organizations published <a href="https://www.nature.com/articles/sdata201618">“The FAIR Guiding Principles for scientific data management and stewardship”</a>. It has since been endorsed by <a href="https://www.dtls.nl/2016/09/13/g20-endorse-fair-principles/">G20</a>, <a href="https://libereurope.eu/blog/2017/12/08/implementing-fair-data-principles-role-libraries/">library associations</a>, and <a href="https://en.wikipedia.org/wiki/FAIR_data#Acceptance_and_implementation_of_FAIR_data_principles">many other</a> <a href="https://www.sciencedirect.com/science/article/pii/S1359644618303039">research organizations</a>.<br />
<a href="https://www.go-fair.org/fair-principles/">FAIR</a> stands for Findable, Accessible, Interoperable, Reusable</p>
<p><strong>Motivation:</strong><br />
From the FAIR publication:<br />
“Beyond proper collection, annotation, and archival, data stewardship includes the notion of ‘long-term care’ of valuable digital assets, with the goal that they should be reusable for downstream investigations, either alone, or in combination with newly generated data… The principles apply not only to ‘data’ in the conventional sense, but also to the algorithms, tools, and workflows that led to that data: all components of the research process must be available to ensure transparency, reproducibility, and reusability.”</p>
<p>To that end, we can think of a computational project as a data object in the broad sense - an identifiable digital item that includes data elements such as tables of measurements along with all the relevant metadata and scripts - and apply FAIR principles to all aspects of the project, including organization, development, and publication. Project components may be of any level of complexity and appear in any form or syntax. Documentation of wet-lab components can and should be included in some form as well, as they are part of the data provenance.</p>
<p><strong>Goals:</strong></p>
<ul>
<li>To allow both humans and machines to make sense of the data as is</li>
<li>To allow the reader/collaborator to reproduce the whole paper/analysis with a click of a button (or a few)</li>
<li>To provide a record of our <em>in silico</em> experiments similar to <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1004385">a wet-lab notebook</a></li>
</ul>
<p>Here are some rules of thumb for how to set up and organize a FAIR-compliant project. See below for more details. See other sections for acquiring and sharing data and for publishing.</p>
<p><strong>Rules of thumb for <a href="https://rstats.wtf/project-oriented-workflow.html">a project-oriented workflow</a>:</strong></p>
<ul>
<li>Set up your project folder as a formal R project in RStudio, or the equivalent in other IDEs
<ul>
<li>In Rstudio: set ‘save workspace on exit’ to ‘never’ (Preferences -&gt; General)</li>
</ul></li>
<li>Use standardized naming and structure following <a href="https://community.rstudio.com/t/best-practice-for-good-documented-reproducible-analysis/1995/">community conventions</a></li>
<li>Keep raw data separate from scripts and output (more details in <a href="Acquiring_and_sharing_data.html">Acquiring and Sharing Data</a></li>
<li>Treat input data as read-only and output as disposable. <a href="https://kbroman.org/steps2rr/pages/scripts.html">Script everything</a>, and <a href="https://rstats.wtf/save-source.html">save scripts, not workspaces</a><br />
</li>
<li>Include a “dumbed-down” <a href="https://data.research.cornell.edu/content/readme">README file</a> as a walk-through (maybe a flow chart; maybe md file)<br />
</li>
<li>Include a license file as needed; CC-0 and CC-BY are <a href="https://blog.datadryad.org/2017/09/11/some-dos-and-donts-for-cc0/">commonly used</a><br />
</li>
<li>If your project involves working on several file systems, it’s a good idea to duplicate whole project folders, not bits and pieces of data/code.
<ul>
<li>You can sync your local copy with Box/Dropbox for extra backup and version control (note: box doesn’t work with RStudio projects).</li>
<li>Options for synchronizing your local and remote copies: Globus, FileZila, <a href="https://jacksonlaboratory.sharepoint.com/sites/ResearchIT/SitePages/Transferring-Files-to-and-from-the-Cluster-with-rsync.aspx">rsync</a><br />
</li>
<li>You can use <a href="https://git-scm.com/book/en/v2">git</a> for version control and sharing of code.</li>
</ul></li>
</ul>
<p><strong>Other good references:</strong><br />
<a href="https://riojournal.com/article/56508" class="uri">https://riojournal.com/article/56508</a><br />
<a href="https://cran.r-project.org/web/views/ReproducibleResearch.html" class="uri">https://cran.r-project.org/web/views/ReproducibleResearch.html</a><br />
<a href="https://kbroman.org/steps2rr/" class="uri">https://kbroman.org/steps2rr/</a><br />
<a href="https://community.rstudio.com/t/best-practice-for-good-documented-reproducible-analysis/1995/2" class="uri">https://community.rstudio.com/t/best-practice-for-good-documented-reproducible-analysis/1995/2</a><br />
<a href="https://www.tandfonline.com/doi/abs/10.1080/00031305.2017.1375986?journalCode=utas20" class="uri">https://www.tandfonline.com/doi/abs/10.1080/00031305.2017.1375986?journalCode=utas20</a><br />
<a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424" class="uri">https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424</a><br />
<a href="https://old.dataone.org/sites/all/documents/DataONE_BP_Primer_020212.pdf" class="uri">https://old.dataone.org/sites/all/documents/DataONE_BP_Primer_020212.pdf</a></p>
</div>
<div id="r-projects-and-rmarkdown" class="section level2">
<h2>R projects and Rmarkdown</h2>
<p>If you’re working with <a href="https://rstudio.com/products/rstudio/">RStudio</a>, you can set up your project folder as <a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects">a formal R project</a>. This makes it easier to combine analyses into one complex project in a modular and self-contained manner. RStudio also provides built-in functionality for version control of projects with git, running multiple projects in parallel, and other useful features. Other IDEs have their own set up, e.g. <a href="https://code.visualstudio.com/docs/setup/setup-overview">Visual Studio</a>.</p>
<p><a href="https://bookdown.org/yihui/rmarkdown/">RMarkdown</a> is a file type <a href="https://rmarkdown.rstudio.com">adopted by RStudio</a> for making <a href="https://kbroman.org/steps2rr/pages/reports.html">reproducible reports</a> using <a href="https://guides.github.com/features/mastering-markdown/">the markdown language</a>. This means that you can document your whole analysis, combining text, code, and results all in one file, and re-run it all with a click of a button. The same can be achieved with e.g., <a href="https://jupyter.org/try">jupyter notebooks</a>. Both RMarkdown and jupyter notebooks can run code in many languages, not just R or python, which makes it easy to document all steps of your analysis in one file in the right sequence.</p>
<p>When Rmarkdown files are rendered they can be converted into several formats. The most commonly used is html. See <a href="https://bookdown.org/yihui/blogdown/output-format.html">here</a> for format comparison. If you push your project to GitHub, it might be useful to have a markdown version of your report, which can then be viewed on <a href="#Working%20with%20Git%20and%20GitHub">GitHub</a> as a rendered html-like report. That basically gives you an easy way to publish your reports. To save a markdown version while rendering your report as html, add <code>keep_md:true</code> to the yaml frontmatter (the text at the top of your file between leading and trailing lines of —) like this:</p>
<pre><code>output: 
  html_document:
    keep_md: true</code></pre>
<p>To save a markdown version without rendering as html you’d simply replace the output section with <code>output: github_document</code>.</p>
<p>You don’t have to use RStudio to generate reports with R Markdown, you can use the <code>rmarkdown</code> package in any R console, but RStudio provides integrated functionality that makes it easier and promotes standardization and reproducibility.</p>
<p>Two other major advances in the R world in recent years include the <a href="https://www.tidyverse.org/">tidyverse</a> and <a href="https://ggplot2.tidyverse.org/index.html">ggplot</a> approaches to data analysis and visualization, respectively. Although they involve quite a learning curve, they make R code more streamlined and readable, and overcome some default behaviors in R that have become a nuisance in the new age of data science (see <a href="https://peerj.com/preprints/3180v1/">here</a> for examples).</p>
<p>For a more effective use of R and RMarkdown see <a href="https://rstats.wtf/">What They Forgot to Teach You About R by Jenny Bryan</a></p>
</div>
<div id="folder-structure-and-naming" class="section level2">
<h2>Folder structure and naming</h2>
<p>Using community standards for structuring projects and naming files and folders makes it easier for other people to understand your workflow, with or without a readme file. There are several good discussions out there, and several R packages that help setting up a standardized R project. The principles are the same for other languages and IDEs.</p>
<p>Some examples: <a href="http://projecttemplate.net/">ProjectTemplate</a>, <a href="https://cran.r-project.org/web/packages/prodigenr/vignettes/prodigenr.html">prodigenr</a>, <a href="http://drivendata.github.io/cookiecutter-data-science/">cookiecutter</a><br />
<a href="http://kbroman.org/steps2rr/pages/organize.html" class="uri">http://kbroman.org/steps2rr/pages/organize.html</a><br />
<a href="https://chrisvoncsefalvay.com/2018/08/09/structuring-r-projects/" class="uri">https://chrisvoncsefalvay.com/2018/08/09/structuring-r-projects/</a><br />
<a href="https://cran.r-project.org/web/views/ReproducibleResearch.html" class="uri">https://cran.r-project.org/web/views/ReproducibleResearch.html</a></p>
<p>Below are two examples for conventional project structure and naming</p>
<div class="figure">
<img src="images/projectStructure.png" alt="" />
<p class="caption">image</p>
</div>
</div>
<div id="recording-the-computational-environment" class="section level2">
<h2>Recording the computational environment</h2>
<p>The R package <a href="https://rstudio.github.io/renv/articles/renv.html"><code>renv</code></a> provides a good way to record the R version and all the packages that your project requires to run, <a href="https://rstudio.github.io/renv/articles/docker.html">regardless of whether you end up dockerizing your project or not</a>. This is the newest incarnation of <code>packrat</code>, by the same developers, so if you’ve been using <code>packrat</code>, it’s a good idea to upgrade to renv.</p>
<p>A few pointers:</p>
<ul>
<li>call <code>renv::init()</code> to initialize a new project-specific environment with a private R library for a given project:
<ul>
<li>saves all currently loaded packages into a lockfile</li>
<li>updates the <code>.Rprofile</code> file so that it activates <code>renv</code>, which then looks up the lockfile, every time you restart a session within that project (so no need to tell other/future users to activate renv)</li>
</ul></li>
<li>call <code>renv::snapshot()</code> to update the package list (lockfile) while working on the project</li>
<li>call <code>renv::restore()</code> to install all packages in the lockfile (e.g., when starting a session on a different system); inform users of the need to do that</li>
<li>Instead of installing a new copy of each package for each project, renv creates a “playlist” for each project that draws from a single global cache</li>
<li>Integrates python as well: <a href="https://rstudio.github.io/renv/articles/python.html" class="uri">https://rstudio.github.io/renv/articles/python.html</a></li>
</ul>
</div>
<div id="working-with-git-and-github" class="section level2">
<h2>Working with Git and GitHub</h2>
<p><a href="https://www.atlassian.com/git/tutorials/what-is-version-control">Intro to version control and git</a><br />
<a href="https://git-scm.com/book/en/v2">The entire Pro Git book</a><br />
<a href="https://lab.github.com/githubtraining/introduction-to-github">Into to GitHub</a><br />
<a href="https://happygitwithr.com/">Happy git with R by Jenny Bryan</a><br />
<a href="https://ohshitgit.com/">Troubleshooting Git</a><br />
<a href="https://resources.github.com/whitepapers/github-and-rstudio/">Publishing RMarkdown websites on Github Pages</a> One way to get started -<br />
<strong>Pushing an existing project folder to a new remote repo:</strong></p>
<ol style="list-style-type: decimal">
<li>Create a new remote (empty) repository under <a href="https://github.com/TheJacksonLaboratory">the Jackson Laboratory account</a><br />
– do not initialize with README/.gitignore/license</li>
<li>Initiate your project folder as a local git repo and link it to the remote one:</li>
</ol>
<pre><code>cd myproject
git init
git remote add origin https://github.com/TheJacksonLaboratory/myproject.git</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Track and commit everything that’s currently in the project folder, and push to the remote repo</li>
</ol>
<pre><code>git add .
git commit -m &quot;initial commit&quot;
git push -u origin main</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Make any changes and repeat step 3 (with a different and informative commit message).</li>
<li>Pull (fetch and merge) any changes that someone else may have pushed to the remote repo since the last time you worked on it with <code>git pull</code></li>
</ol>
<p><strong>Note:</strong> If you set up your project folder as an RStudio project you have the option to initiate it as a git repo from the outset. In this case you just need to do the <code>git remote add</code> command in step 1. You will then have a .gitignore file already in there. It’s a good idea to add LICENSE and README files as well.<br />
See <a href="https://labs.consol.de/development/git/2017/02/22/gitignore.html">here</a> for a good reference on how to write <code>.gitignore</code>.</p>
<p>Another way to get started -<br />
<strong>Cloning an existing remote repo to a new local folder:</strong></p>
<ol style="list-style-type: decimal">
<li>Clone the repo from github to your local machine</li>
</ol>
<pre><code>git clone https://github.com/TheJacksonLaboratory/someproject.git</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Make changes and repeat step 3 above</li>
<li>Repeat step 5 above</li>
</ol>
<p>If you’re going to collaborate on code/text development through github, it helps to <a href="https://guides.github.com/introduction/flow/">understand the github flow</a> and <a href="https://www.freecodecamp.org/news/git-clone-branch-how-to-clone-a-specific-branch/">how branching works</a>. It is also a good idea to work with a graphic client such as the one provided in <a href="https://jennybc.github.io/2014-05-12-ubc/ubc-r/session03_git.html#learngit">RStudio</a> and Visual Studio, or the stand-alone <a href="https://desktop.github.com/">GitHub Desktop</a>, rather than working from the command line. This is especially useful for monitoring and managing complex merges.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
